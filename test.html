<!DOCTYPE html>
<html lang="es-ES">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de baraja</title>
    <style>
        /*
        .carta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            max-width: 380px;
        }*/
        .posicion {
            position: absolute;
        }

        #contenedor {
            position: relative;
            padding: 5px;
        }
    </style>
</head>

<body>
    <h1>Baraja</h1>


    <div class="inicial carta">
        <!-- aqui van las cartas-->
    </div>
    <p>Baraja mezclada:</p>
    <div id="contenedor" class="carta">

    </div>
    <script>

        let palos = ["ova", "cua", "hex", "cir"];
        // Array de número de cartas:
        //let numeros = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
        // En las pruebas iniciales solo se trabajará con cuatro cartas por palo:
        let numeros = [5, 6, 7, 8, 9, 10, 11, 12];

        //baraja para generar el aleatorio
        let baraja = [];
        /*
        for (let i = 0; i < palos.length; i++) {
            //Se generan los palos
            const palo = palos[i];
            for (let x = 0; x < numeros.length; x++) {
                //se generan las cartas de los palos i
                const numero = numeros[x];
                var div = document.createElement("div");
                //creo el img
                var carta = document.createElement("img");
                //establezco los atributos de la carta
                carta.src = "imagenes/baraja/"+ numero + "-"+palo+".png";
                carta.width = "80"; //le establezco un ancho
                carta.id=palo;
                carta.class = numero;
                
                //se asocia el nodo elemento con el nodo carta
                div.appendChild(carta);
                //se asocia el nuevo nodo elemento al arbol de la esctructura de la pagina
                document.body.appendChild(div);
            }
        }
        */


        //codigo de baraja
        for (let i = 0; i < palos.length; i++) {
            //Se generan los palos
            var palo = palos[i];
            for (let x = 0; x < numeros.length; x++) {
                //declaro variable tapete para el div inicial del tapete
                var tapete = document.querySelector(".inicial");
                var div = document.createElement("div")
                //declaro la variable numero para el numero de la carta
                var numero = numeros[x];
                //creo la carta
                var carta = document.createElement("img");
                //asingo atributo scr, alt y ancho a la carta 
                carta.setAttribute("src", "imagenes/baraja/" + numero + "-" + palo + ".png");
                carta.setAttribute("alt", "Carata de baraja");
                carta.setAttribute("width", "70");
                //añadimos la carta al tapete
                //console.log(carta)
                div.appendChild(carta);
                // tapete.appendChild(div);
            }
        }

        //codigo de baraja
        for (let i = 0; i < palos.length; i++) {
            //Se generan los palos
            var palo = palos[i];
            for (let x = 0; x < numeros.length; x++) {
                var numero = numeros[x];
                //creo la carta
                var carta = document.createElement("img");
                //asingo atributo scr, alt y ancho a la carta 
                carta.setAttribute("src", "imagenes/baraja/" + numero + "-" + palo + ".png");
                carta.setAttribute("alt", "Carata de baraja");
                carta.setAttribute("width", "70");
                //añadimos la carta al tapete
                baraja.push(carta);
            }
        }
        console.log(baraja)

        //funcion que mezcla la baraja
        function mezclarArray(array) {
            // Recorremos el array desde el final hasta el principio
            for (let i = baraja.length - 1; i > 0; i--) {
                // Generamos un índice aleatorio entre 0 y i
                const j = Math.floor(Math.random() * (i + 1));
                // Intercambiamos los elementos en las posiciones i y j
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Ejemplo de uso:

        //barajo la baraja usando la funcion y pasando la baraja
        mezclarArray(baraja);
        console.log(baraja); //ping
        // Obtener el contenedor de las cartas
        const contenedor = document.getElementById("contenedor");

        // Obtener la posición inicial para la primera carta
        let posicionHorizontal = 0;
        let posicionVertical = 0;

        // Iterar sobre cada carta en el array baraja
        baraja.forEach(carta => {
            // Agregar la clase "principal" a cada carta
            carta.classList.add("principal");

            // Establecer la posición de la carta
            carta.style.position = "absolute"
            carta.style.left = `${posicionHorizontal}px`;
            carta.style.top = `${posicionVertical}px`;

            // Aumentar la posición para la siguiente carta
            posicionHorizontal += 15; // Ajusta este valor según el desplazamiento horizontal deseado
            posicionVertical += 10; // Ajusta este valor según el desplazamiento vertical deseado

            // Agregar la carta al contenedor en el documento HTML
            contenedor.appendChild(carta);
        });
    </script>
</body>

</html>